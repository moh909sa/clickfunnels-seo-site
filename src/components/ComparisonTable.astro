---
interface Props {
  features: Array<{
    name: string;
    clickfunnels: string | boolean;
    competitor: string | boolean;
    highlight?: boolean;
  }>;
  competitorName: string;
}

const { features, competitorName } = Astro.props;
---

<div class="overflow-hidden bg-white rounded-3xl shadow-xl border border-gray-100">
  <div class="overflow-x-auto">
    <table class="w-full">
      <thead>
        <tr class="bg-gradient-to-r from-purple-50 to-blue-50">
          <th class="px-6 py-4 text-left text-sm font-semibold text-gray-900">Feature</th>
          <th class="px-6 py-4 text-center text-sm font-semibold text-purple-900">ClickFunnels</th>
          <th class="px-6 py-4 text-center text-sm font-semibold text-gray-900">{competitorName}</th>
        </tr>
      </thead>
      <tbody class="divide-y divide-gray-100">
        {features.map(feature => (
          <tr class={`hover:bg-gray-50 transition-colors duration-150 ${feature.highlight ? "bg-purple-50" : ""}`}>
            <td class="px-6 py-4 text-sm font-medium text-gray-900">{feature.name}</td>
            <td class="px-6 py-4 text-center">
              {typeof feature.clickfunnels === "boolean" ? (
                <div class="flex justify-center">
                  {feature.clickfunnels ? (
                    <svg class="w-5 h-5 text-green-500" fill="currentColor" viewBox="0 0 20 20">
                      <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                    </svg>
                  ) : (
                    <svg class="w-5 h-5 text-red-500" fill="currentColor" viewBox="0 0 20 20">
                      <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path>
                    </svg>
                  )}
                </div>
              ) : (
                <span class="text-sm text-gray-600">{feature.clickfunnels}</span>
              )}
            </td>
            <td class="px-6 py-4 text-center">
              {typeof feature.competitor === "boolean" ? (
                <div class="flex justify-center">
                  {feature.competitor ? (
                    <svg class="w-5 h-5 text-green-500" fill="currentColor" viewBox="0 0 20 20">
                      <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                    </svg>
                  ) : (
                    <svg class="w-5 h-5 text-red-500" fill="currentColor" viewBox="0 0 20 20">
                      <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path>
                    </svg>
                  )}
                </div>
              ) : (
                <span class="text-sm text-gray-600">{feature.competitor}</span>
              )}
            </td>
          </tr>
        ))}
      </tbody>
    </table>
  </div>
</div>
